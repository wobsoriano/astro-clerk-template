let t=[],v=(f,n)=>{let i=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},l:n||0,lc:0,listen(u,a){return e.lc=i.push(u,a||e.l)/2,()=>{let s=i.indexOf(u);~s&&(i.splice(s,2),--e.lc||e.off())}},notify(u,a){let s=!t.length;for(let l=0;l<i.length;l+=2)t.push(i[l],i[l+1],e.value,u,a);if(s){for(let l=0;l<t.length;l+=5){let r;for(let o=l+1;!r&&(o+=5)<t.length;)t[o]<t[l+1]&&(r=t.push(t[l],t[l+1],t[l+2],t[l+3],t[l+4]));r||t[l](t[l+2],t[l+3],t[l+4])}t.length=0}},off(){},set(u){let a=e.value;a!==u&&(e.value=u,e.notify(a))},subscribe(u,a){let s=e.listen(u,a);return u(e.value),s},value:f};return e},c=(f={})=>{let n=v(f);return n.setKey=function(i,e){let u=n.value;typeof e>"u"&&i in n.value?(n.value={...n.value},delete n.value[i],n.notify(u,i)):n.value[i]!==e&&(n.value={...n.value,[i]:e},n.notify(u,i))},n};var d=c({isLoaded:!1,client:null,user:null,session:null,organization:null}),p=c(),h=v(null);export{d as $,v as a,p as b,h as c};
